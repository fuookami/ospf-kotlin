# Core Demo

[toc]

## Demo1（下料问题）

### 1. 问题描述

原材料长 $1000$ 个单位，需要把原材料切分以下的成品材料, 且满足每种成品材料对应的需求量，目标是最小化所需原材料的数量：

|     |   长度    |   需求量   |
|:---:|:-------:|:-------:|
| 成品1 | $ 450 $ | $ 97 $  |
| 成本2 | $ 360 $ | $ 610 $ |
| 成品3 | $ 310 $ | $ 395 $ |
| 成品4 | $ 140 $ | $ 211 $ |

### 2. 数学模型

#### 1) RMP

##### (1) 变量

$ x_{j} \in N$：使用第 $j$ 个切割方案的数量。

##### (2) 中间值

###### 1. 原材料总使用量

$$
Cost_{i} = Cost_{i - 1} + \sum_{j \in Plan_{i}} x_{ij}, \; \forall i \in N
$$

###### 2. 成品材料生产量

$$
Output_{ip} = Output_{i - 1, p} + \sum_{j \in Plan_{i}} Amount_{ijp} \cdot x_{ij}, \; \forall i \in N
$$

##### (3) 目标函数

###### 1. 原材料使用量最小

$$
Min \quad Cost_{i}
$$

##### (4) 约束

###### 1. 成品材料生产量要满足需求量

$$
s.t. \quad Output_{ip} \geq Demand_{p}, \; \forall p \in P
$$

#### 2) SP

##### (1) 变量

$ y_{p} \in N$：切割 $p$ 成品材料的数量。

##### (2) 中间值

###### 1. 原材料使用量

$$
Use = \sum_{p \in P} l_{p} \cdot y_{p}
$$

##### (3) 目标函数

###### 1. Reduced Cost 最小

$$
Min \quad 1 - \sum_{p \in P} \lambda_{p} \cdot y_{p}
$$

##### (4) 约束

###### 1. 原材料使用量不能大于原材料的长度

$$
s.t. \quad Use \leq L
$$
